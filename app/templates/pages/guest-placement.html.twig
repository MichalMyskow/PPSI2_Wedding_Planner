{% extends 'layouts/app.html.twig' %}

{% block style %} 
        {{ encore_entry_link_tags('guest_placement') }}
{% endblock %}
{% block main %}
     <div class="main-margin-inline main-margin-block">
        <section>
            <div class="page-header">
                <div class="page-header__content page-header__content--guest-placement">
                    <h2>Planowanie siedzeń</h2>
                </div>
            </div>
        </section>
        
        <section>
            <div class="page-nav">
                <a class="page-nav__item page-nav__item--back main-link--first" href="{{ path('home') }}">
                    Wróć
                </a>
                <a id="guest-placement__save-btn" class="page-nav__item page-nav__item--save  main-link--first">
                    Zapisz
                </a>
                <a id="guest-placement__clear-all-btn" class="page-nav__item page-nav__item--delete  main-link--first">
                    Wyczyść plan
                </a>
            </div>
        </section>

        <section>
            <div class="guest-placement__message-box">
                <p>Wybierz wolne miejsce a następnie wybierz gościa. Kliknij w imię i nazwisko gościa, aby sprawdzić gdzie siedzi.</p>
            </div>
            
            <div class="guest-placement">
                <div class="guest-placement__list">
                    <form id="guest_placement_form" class="guest-placement__list-form">
                    {% if guests is not empty %}
                        {% for guest in guests %}
                        <div class="guest-placement__list-item">
                            <label class="guest-placement__list-label">
                                <input type="radio" name="guest" class="guest guest-placement__list-input" data-guest-id="{{ guest.id }}" data-guest-seat-id="">
                                <div class="guest-placement__list-name">{{ guest.lastName }} {{ guest.firstName }}</div>
                                <a class="guest-placement__list-unset-btn" data-delete-guest-id="{{ guest.id }}"></a>
                            </label>
                        </div>
                        {% endfor %}
                    {% else %}
                        <div class="muted">
                            <p>Nie ma listy gości. Wprowadź gości, aby przydzielić miejsca.</p>
                            <a class="main-link--first" href="{{ path('view_guests') }}">Przejdź do listy gości</a>
                        </div>
                    {% endif %}
                    </form>
                </div>
                <div class="guest-placement__plan">
                    {% include roomView %}
                </div>
   
            </div>
        </section>
    </div>
    <section>
        <div class="modal" id="loader"> 
            <div id="loader-content" class="modal-content">
                Ładowanie
            </div>
        </div>
    </section>

{% endblock %}
{% block script %} 
        {{ encore_entry_script_tags('guest_placement') }}
{% endblock %}
